<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    function foo() {
      var a = 2;
      this.bar(); // 调用bar()最自然的方法是省略前面的this,直接使用词法引用标识符
    }

    function bar() {
      console.log(this.a);
    }
    // 此外，编写这段代码的开发者还试图使用this联通foo和bar的词法作用域
    // 从而让bar可以访问foo作用域里的变量a,这是不可能实现的
    // 你不能使用this引用一个词法作用域内部的东西
    // 每当你想要把this和词法作用域的查找混合使用时，一定要提醒自己，这是无法实现的
    // this的绑定和函数声明的位置没有任何关系，只取决于函数的调用方式
    foo();
  </script>
</body>

</html>