<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>

  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    class CreateDiv {
      constructor(html) {
        this.html = html;
        this.init();
      }

      init() {
        var div = document.createElement('div');
        div.innerHTML = this.html;
        document.body.appendChild(div);
      }
    }

    var ProxySingletonCreateDiv = (function () {
      var instance = null;

      return function (html) {
        if (!instance) {
          instance = new CreateDiv(html);
        }
        return instance;
      }
    })();


    var instance1 = new ProxySingletonCreateDiv('instance1');
    var instance2 = new ProxySingletonCreateDiv('instance2');
    console.log(instance1);
    console.log(instance2);

    /*
      通过引入代理类的方式，我们同样完成了一个单例模式的编写，
      跟之前不同的是，现在我们把负责管理单例的逻辑移到了代理类proxySingletonCreateDiv中。
      这样一来，CreateDiv就变成了一个普通的类，
      它跟proxySingletonCreateDiv组合起来可以达到单例模式的效果。
    */
  </script>
</body>

</html>